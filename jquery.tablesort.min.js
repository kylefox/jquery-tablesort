/*
	A simple, lightweight jQuery plugin for creating sortable tables.
	https://github.com/kylefox/jquery-tablesort
	Version 0.0.1
*/$(function(){function t(e){var t=parseFloat(e);return t!=t?e:t}function n(e,n,r){var i;if(e.data().sortBy){var s=e.data().sortBy;return typeof s=="function"?s(e,n,r):s}return n.data().sortValue?i=n.data().sortValue:i=n.text(),t(i)}var e=window.jQuery;e.tablesort=function(t,n){var r=this;this.$table=t,this.$thead=this.$table.find("thead"),this.settings=e.extend({},e.tablesort.defaults,n),this.$table.find("th").bind("click.tablesort",function(){r.sort(e(this))}),this.index=null,this.$th=null,this.direction=null},e.tablesort.prototype={sort:function(t,r){var i=new Date,s=this,o=this.$table,u=this.$thead.length>0?o.find("tbody tr"):o.find("tr").has("td"),a,f,l,c,h=[];if(u.length===0)return;s.$table.find("th").removeClass(s.settings.asc+" "+s.settings.desc),this.index=t.index(),this.$th=t,r!=="asc"&&r!=="desc"?this.direction=this.direction==="asc"?"desc":"asc":this.direction=r,r=this.direction=="asc"?1:-1,s.$table.trigger("tablesort:start",[s]),s.log("Sorting by "+this.index+" "+this.direction),u.sort(function(i,o){return a=e(i),f=e(o),l=a.index(),c=f.index(),h[l]?i=h[l]:(i=n(t,s.cellToSort(i),s),h[l]=i),h[c]?o=h[c]:(o=n(t,s.cellToSort(o),s),h[c]=o),i>o?1*r:i<o?-1*r:0}),u.each(function(e,t){o.append(t)}),t.addClass(s.settings[s.direction]),s.log("Sort finished in "+((new Date).getTime()-i.getTime())+"ms"),s.$table.trigger("tablesort:complete",[s])},cellToSort:function(t){return e(e(t).find("td").get(this.index))},log:function(t){(e.tablesort.DEBUG||this.settings.debug)&&console&&console.log&&console.log("[tablesort] "+t)},destroy:function(){return this.$table.find("th").unbind("click.tablesort"),this.$table.data("tablesort",null),null}},e.tablesort.DEBUG=!1,e.tablesort.defaults={debug:e.tablesort.DEBUG,asc:"sorted ascending",desc:"sorted descending"},e.fn.tablesort=function(t){var n,r,i;return this.each(function(){n=e(this),i=n.data("tablesort"),i&&i.destroy(),n.data("tablesort",new e.tablesort(n,t))})}});