/*
	A simple, lightweight jQuery plugin for creating sortable tables.
	https://github.com/kylefox/jquery-tablesort
	Version 0.0.4
*/
$(function(){var a=window.Zepto||window.jQuery;a.tablesort=function(d,c){var e=this;this.$table=d;this.$thead=this.$table.find("thead");this.settings=a.extend({},a.tablesort.defaults,c);this.$sortCells=0<this.$thead.length?this.$thead.find("th:not(.no-sort)"):this.$table.find("th:not(.no-sort)");this.$sortCells.bind("click.tablesort",function(){e.sort(a(this))});this.direction=this.$th=this.index=null};a.tablesort.prototype={sort:function(d,c){var e=new Date,b=this,h=this.$table,n=0<this.$thead.length?
h.find("tbody tr"):h.find("tr").has("td"),m=h.find("tr td:nth-of-type("+(d.index()+1)+")"),f=d.data().sortBy,k=[],l=m.map(function(c,e){return f?"function"===typeof f?f(a(d),a(e),b):f:null!=a(this).data().sortValue?a(this).data().sortValue:a(this).text()});0!==l.length&&(b.$sortCells.removeClass(b.settings.asc+" "+b.settings.desc),this.direction="asc"!==c&&"desc"!==c?"asc"===this.direction?"desc":"asc":c,c="asc"==this.direction?1:-1,b.$table.trigger("tablesort:start",[b]),b.log("Sorting by "+this.index+
" "+this.direction),b.$table.css("display"),setTimeout(function(){for(var g=0,f=l.length;g<f;g++)k.push({index:g,cell:m[g],row:n[g],value:l[g]});k.sort(function(a,b){return a.value>b.value?1*c:a.value<b.value?-1*c:0});a.each(k,function(a,b){h.append(b.row)});d.addClass(b.settings[b.direction]);b.log("Sort finished in "+((new Date).getTime()-e.getTime())+"ms");b.$table.trigger("tablesort:complete",[b]);b.$table.css("display")},10))},log:function(d){(a.tablesort.DEBUG||this.settings.debug)&&console&&
console.log&&console.log("[tablesort] "+d)},destroy:function(){this.$sortCells.unbind("click.tablesort");this.$table.data("tablesort",null);return null}};a.tablesort.DEBUG=!1;a.tablesort.defaults={debug:a.tablesort.DEBUG,asc:"sorted ascending",desc:"sorted descending"};a.fn.tablesort=function(d){var c,e;return this.each(function(){c=a(this);(e=c.data("tablesort"))&&e.destroy();c.data("tablesort",new a.tablesort(c,d))})}});
